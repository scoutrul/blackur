import React, { Component } from 'react';
import './headerLogo.scss'
import InlineSVG from 'svg-inline-react';

export default class extends Component {
	
	state = {
		topScroll: 0,
		screenHeight: null
	}
	
	
	_bindScroll = (element) => {
		element.addEventListener('scroll', (e) => {
			let ticking = false;
			let elementHeight = e.target.clientHeight;
			let topScroll = e.target.scrollTop || 0;
			
			if (!ticking) {
				window.requestAnimationFrame(() => {
					ticking = false;
					this.setState({
						topScroll: topScroll
					})
				});
				ticking = true;
			}
		});
	}
	
	_bindResize = (element) => {
		window.addEventListener("resize", () => {
			let resizeTimeout;
			if (!resizeTimeout) {
				resizeTimeout = setTimeout(() => {
					resizeTimeout = null;
					
					this.setState({
						screenHeight: element.clientHeight
					})
				}, 66);
			}
		}, false);
	}
	
	componentDidMount() {
		this._bindScroll(document.getElementsByClassName('project')[0])
		this._bindResize(document.getElementById('one'))
	}
	
	componentDidUpdate(){
		console.log(this.state)
	}
	
	
	render() {
		
		const maskMove = this.state.topScroll * 3;
		
		const svgSource = `
	<svg
		viewBox="0 0 1000 1000"
		id="svg" version="1.1"
		width="100" height="100"
		xmlns="http://www.w3.org/2000/svg">
			<defs>
				<clipPath id="logo-white">
					<rect x="0" y=${-600} width="100%" height="100%"></rect>
				</clipPath>
				<clipPath id="logo-black">
					<rect x="0" y=${maskMove} width="100%" height="100%"></rect>
				</clipPath>
			</defs>

        <g id="black" clip-path="url(#logo-black)">
            <path id="path01" d="M0.000 289.500 L 0.000 579.000 211.500 579.000 L 423.000 579.000 423.000 576.608 C 423.000 574.292,423.319 574.193,433.023 573.498 C 444.003 572.712,445.000 572.094,445.000 566.066 C 445.000 563.166,445.213 563.000,448.918 563.000 C 454.285 563.000,456.000 562.172,456.000 559.580 C 456.000 555.976,460.836 552.254,466.500 551.499 C 474.432 550.441,474.877 550.171,476.081 545.690 C 477.315 541.097,478.369 540.038,481.727 540.015 C 485.096 539.992,486.926 536.177,487.644 527.679 L 488.293 520.000 493.040 520.000 C 498.343 520.000,499.000 519.234,499.000 513.050 C 499.000 509.366,499.113 509.248,503.144 508.707 C 508.439 507.997,508.702 507.489,509.539 496.320 C 510.210 487.365,510.331 487.000,512.619 487.000 L 515.000 487.000 515.000 424.000 L 515.000 361.000 512.500 361.000 C 510.199 361.000,510.000 360.637,510.000 356.443 C 510.000 345.889,506.599 339.000,501.389 339.000 C 499.202 339.000,499.000 338.594,499.000 334.200 C 499.000 328.299,497.800 327.000,492.352 327.000 L 488.105 327.000 487.802 321.756 C 487.530 317.035,487.245 316.461,484.946 316.006 C 480.918 315.208,477.000 311.559,477.000 308.606 C 477.000 306.465,476.535 306.000,474.394 306.000 C 471.441 306.000,467.792 302.082,466.994 298.054 C 466.539 295.755,465.965 295.470,461.244 295.198 L 456.000 294.895 456.000 290.648 C 456.000 285.297,454.692 284.000,449.300 284.000 L 445.000 284.000 445.000 278.500 L 445.000 273.000 450.500 273.000 L 456.000 273.000 456.000 268.000 L 456.000 263.000 459.750 262.985 C 464.993 262.963,466.142 261.918,466.739 256.624 C 467.241 252.169,467.380 252.000,470.548 252.000 C 476.462 252.000,477.000 251.386,477.000 244.637 C 477.000 238.794,477.146 238.424,479.942 237.186 C 481.560 236.470,483.470 234.560,484.186 232.942 C 484.902 231.324,486.053 230.000,486.744 230.000 C 487.672 230.000,488.000 227.260,488.000 219.500 L 488.000 209.000 491.309 209.000 C 498.882 209.000,498.463 211.797,498.807 158.831 C 499.146 106.443,498.980 103.429,495.696 102.438 C 489.996 100.718,488.000 97.185,488.000 88.813 C 488.000 84.516,487.586 81.000,487.079 81.000 C 486.573 81.000,485.863 79.651,485.500 78.001 C 484.794 74.788,481.672 72.000,478.777 72.000 C 477.275 72.000,477.000 71.087,477.000 66.107 C 477.000 59.623,476.428 59.000,470.470 59.000 C 467.115 59.000,467.104 58.984,466.802 53.750 L 466.500 48.500 461.250 48.198 L 456.000 47.895 456.000 42.948 C 456.000 38.297,455.845 38.000,453.423 38.000 C 450.039 38.000,445.000 32.961,445.000 29.577 C 445.000 27.123,444.740 27.000,439.552 27.000 L 434.105 27.000 433.802 21.750 L 433.500 16.500 428.250 16.198 L 423.000 15.895 423.000 12.471 C 423.000 7.705,420.300 6.269,409.750 5.425 C 401.417 4.758,401.000 4.612,401.000 2.362 L 401.000 0.000 200.500 0.000 L 0.000 0.000 0.000 289.500 "
                  stroke="none" fill="#000000" ></path>
        </g>
        <g id="white" clip-path="url(#logo-white)">
            <path id="path02" d="M0.000 289.500 L 0.000 579.000 211.500 579.000 L 423.000 579.000 423.000 576.608 C 423.000 574.292,423.319 574.193,433.023 573.498 C 444.003 572.712,445.000 572.094,445.000 566.066 C 445.000 563.166,445.213 563.000,448.918 563.000 C 454.285 563.000,456.000 562.172,456.000 559.580 C 456.000 555.976,460.836 552.254,466.500 551.499 C 474.432 550.441,474.877 550.171,476.081 545.690 C 477.315 541.097,478.369 540.038,481.727 540.015 C 485.096 539.992,486.926 536.177,487.644 527.679 L 488.293 520.000 493.040 520.000 C 498.343 520.000,499.000 519.234,499.000 513.050 C 499.000 509.366,499.113 509.248,503.144 508.707 C 508.439 507.997,508.702 507.489,509.539 496.320 C 510.210 487.365,510.331 487.000,512.619 487.000 L 515.000 487.000 515.000 424.000 L 515.000 361.000 512.500 361.000 C 510.199 361.000,510.000 360.637,510.000 356.443 C 510.000 345.889,506.599 339.000,501.389 339.000 C 499.202 339.000,499.000 338.594,499.000 334.200 C 499.000 328.299,497.800 327.000,492.352 327.000 L 488.105 327.000 487.802 321.756 C 487.530 317.035,487.245 316.461,484.946 316.006 C 480.918 315.208,477.000 311.559,477.000 308.606 C 477.000 306.465,476.535 306.000,474.394 306.000 C 471.441 306.000,467.792 302.082,466.994 298.054 C 466.539 295.755,465.965 295.470,461.244 295.198 L 456.000 294.895 456.000 290.648 C 456.000 285.297,454.692 284.000,449.300 284.000 L 445.000 284.000 445.000 278.500 L 445.000 273.000 450.500 273.000 L 456.000 273.000 456.000 268.000 L 456.000 263.000 459.750 262.985 C 464.993 262.963,466.142 261.918,466.739 256.624 C 467.241 252.169,467.380 252.000,470.548 252.000 C 476.462 252.000,477.000 251.386,477.000 244.637 C 477.000 238.794,477.146 238.424,479.942 237.186 C 481.560 236.470,483.470 234.560,484.186 232.942 C 484.902 231.324,486.053 230.000,486.744 230.000 C 487.672 230.000,488.000 227.260,488.000 219.500 L 488.000 209.000 491.309 209.000 C 498.882 209.000,498.463 211.797,498.807 158.831 C 499.146 106.443,498.980 103.429,495.696 102.438 C 489.996 100.718,488.000 97.185,488.000 88.813 C 488.000 84.516,487.586 81.000,487.079 81.000 C 486.573 81.000,485.863 79.651,485.500 78.001 C 484.794 74.788,481.672 72.000,478.777 72.000 C 477.275 72.000,477.000 71.087,477.000 66.107 C 477.000 59.623,476.428 59.000,470.470 59.000 C 467.115 59.000,467.104 58.984,466.802 53.750 L 466.500 48.500 461.250 48.198 L 456.000 47.895 456.000 42.948 C 456.000 38.297,455.845 38.000,453.423 38.000 C 450.039 38.000,445.000 32.961,445.000 29.577 C 445.000 27.123,444.740 27.000,439.552 27.000 L 434.105 27.000 433.802 21.750 L 433.500 16.500 428.250 16.198 L 423.000 15.895 423.000 12.471 C 423.000 7.705,420.300 6.269,409.750 5.425 C 401.417 4.758,401.000 4.612,401.000 2.362 L 401.000 0.000 200.500 0.000 L 0.000 0.000 0.000 289.500 "
                  stroke="none" fill="#FFFFFF" ></path>
        </g>
	</svg>`;
		
		return (
			<div className={'headerLogo'}>
				<InlineSVG src={svgSource}/>
			</div>
		);
	}
}



